{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "grafana",
          "uid": "-- Grafana --"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": 19,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "fixed"
          },
          "custom": {
            "align": "auto",
            "displayMode": "auto",
            "inspect": false
          },
          "mappings": [
            {
              "options": {
                "FAILURE": {
                  "color": "dark-red",
                  "index": 0
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": ".*"
            },
            "properties": [
              {
                "id": "custom.align",
                "value": "center"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 22,
        "x": 0,
        "y": 0
      },
      "id": 32,
      "options": {
        "footer": {
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "time"
          }
        ]
      },
      "pluginVersion": "9.2.10",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT lf.funcname AS \"Load Function\"\n     , CASE WHEN ls.summary = 'success' THEN 'Success' ELSE 'FAILURE' END AS \"Outcome\"\n     , count(*) AS \"Counts\"\n  FROM public.load_functions lf\n       LEFT JOIN public.load_status ls ON (lf.id = ls.load_function_id)\n WHERE ls.txstart > now() - interval'24 hours'\n   AND cluster_id = public.cluster_id_from_schema('$v_schema')\n GROUP BY 1, 2\n ORDER BY 2, 1;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Monitor Load Summary (past 24 hrs)",
      "type": "table"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "auto",
            "displayMode": "auto",
            "inspect": true
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": ".*"
            },
            "properties": [
              {
                "id": "custom.align",
                "value": "center"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Iteration"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 201
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Outcome"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 146
              },
              {
                "id": "custom.displayMode",
                "value": "color-background"
              },
              {
                "id": "mappings",
                "value": [
                  {
                    "options": {
                      "pattern": "/FAILURE/",
                      "result": {
                        "color": "dark-red",
                        "index": 0
                      }
                    },
                    "type": "regex"
                  }
                ]
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Run Time"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 201
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "count"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 174
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Count"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 20
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Functions"
            },
            "properties": [
              {
                "id": "custom.inspect",
                "value": true
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 11,
        "w": 22,
        "x": 0,
        "y": 5
      },
      "id": 29,
      "options": {
        "footer": {
          "enablePagination": true,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": true,
        "sortBy": []
      },
      "pluginVersion": "9.2.10",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT ls.txstart AS \"Iteration\"\n     , CASE WHEN ls.summary = 'success' THEN 'Success' ELSE 'FAILURE' END AS \"Outcome\"\n     , (max(ls.created) - min(ls.created)) AS \"Run Time\"\n     , count(*) AS \"Count\"\n     , array_agg(lf.funcname) AS \"Functions\"\n  FROM public.load_status ls\n       JOIN public.load_functions lf ON (ls.load_function_id = lf.id)\n WHERE ls.txstart > now() - interval'24 hours'\n    AND ls.cluster_id = public.cluster_id_from_schema('$v_schema')\n GROUP BY 1, 2\n ORDER BY 1 DESC, 2;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Monitor Load Detail (past 24 hrs)",
      "type": "table"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "center",
            "displayMode": "auto",
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "name"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 200
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 11,
        "x": 0,
        "y": 16
      },
      "id": 12,
      "options": {
        "footer": {
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": false
      },
      "pluginVersion": "9.2.10",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT 'Database uptime' AS name, uptime::text AS value FROM ${v_schema}.dbuptime\nUNION\nSELECT 'Database version' AS name, split_part(version,')',1)||')' AS value FROM ${v_schema}.version\nUNION\nSELECT 'Connections' AS name, count(*)::text AS value FROM ${v_schema}.cat_pg_stat_activity\nORDER BY name ASC;\n\n\n\n\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Database State",
      "type": "table"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "center",
            "displayMode": "auto",
            "inspect": false
          },
          "mappings": [
            {
              "options": {
                "DEGRADED": {
                  "color": "dark-red",
                  "index": 0
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "name"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 200
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "value"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "gradient-gauge"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 11,
        "x": 11,
        "y": 16
      },
      "id": 13,
      "options": {
        "footer": {
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": false
      },
      "pluginVersion": "9.2.10",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "WITH confpri AS (\nSELECT count(*) FROM ${v_schema}.cat_gp_segment_configuration WHERE role='p'\n), confmir AS (\nSELECT count(*) FROM ${v_schema}.cat_gp_segment_configuration WHERE role='m'\n), confrole AS (\nSELECT count(*) FROM ${v_schema}.cat_gp_segment_configuration WHERE preferred_role=role\n), confsync AS (\nSELECT count(*) FROM ${v_schema}.cat_gp_segment_configuration WHERE status = 'd'\n)\nSELECT '1. Primary Segments' AS name, count::text AS value FROM confpri\nUNION\nSELECT '2. Mirror Segments' AS name, count::text AS value FROM confmir\nUNION\nSELECT '3. Down Segements' AS name, count::text AS value from confsync\nUNION\nSELECT '4. Cluster Health' AS name\n     , CASE WHEN (cp.count + cm.count = cr.count AND cs.count = 0) THEN 'Healthy'\n            ELSE 'DEGRADED' END AS value\n  FROM confrole cr, confpri cp, confmir cm, confsync cs\nORDER BY 1 ASC \n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Database Health",
      "type": "table"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": []
        },
        "overrides": [
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "A"
            },
            "properties": [
              {
                "id": "unit",
                "value": "deckbytes"
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/Avail/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "dark-green",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/Used/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "dark-yellow",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 5,
        "x": 0,
        "y": 21
      },
      "id": 33,
      "options": {
        "legend": {
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "pieType": "donut",
        "reduceOptions": {
          "calcs": [],
          "fields": "",
          "values": false
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "9.2.10",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "WITH maxes AS (\nSELECT max(period) FROM ${v_schema}.disk_space\n), src AS ( \nSELECT DISTINCT d.*\n  FROM ${v_schema}.disk_space d, maxes m, public.cluster_hosts h\n WHERE m.max = d.period\n   AND h.hostname = d.hostname\n   AND h.is_mdw\n)\nSELECT period as time, sum(used_kbs) AS \"Used KBs\", sum(avail_kbs) AS \"Avail KBs\"\n  FROM src\n GROUP BY 1;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Coordinator Storage Consumption",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": []
        },
        "overrides": [
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "A"
            },
            "properties": [
              {
                "id": "unit",
                "value": "deckbytes"
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/Avail/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "dark-green",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/Used/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "dark-yellow",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 5,
        "x": 5,
        "y": 21
      },
      "id": 17,
      "options": {
        "legend": {
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "pieType": "donut",
        "reduceOptions": {
          "calcs": [],
          "fields": "",
          "values": false
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "9.2.10",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "WITH maxes AS (\nSELECT max(period) FROM ${v_schema}.disk_space\n), src AS ( \nSELECT DISTINCT d.*\n  FROM ${v_schema}.disk_space d, maxes m, public.cluster_hosts h\n WHERE m.max = d.period\n   AND h.hostname = d.hostname\n   AND NOT h.is_mdw\n)\nSELECT period as time, sum(used_kbs) AS \"Used KBs\", sum(avail_kbs) AS \"Avail KBs\"\n  FROM src\n GROUP BY 1;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Segment Storage Consumption",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": []
        },
        "overrides": [
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "A"
            },
            "properties": [
              {
                "id": "unit",
                "value": "deckbytes"
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/Avail/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "dark-green",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/Used/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "dark-yellow",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 4,
        "x": 10,
        "y": 21
      },
      "id": 24,
      "options": {
        "legend": {
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "pieType": "donut",
        "reduceOptions": {
          "calcs": [],
          "fields": "",
          "values": false
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "9.2.10",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "WITH maxes AS (\nSELECT max(period) FROM ${v_schema}.swap\n), src AS (\nSELECT DISTINCT d.*\n  FROM ${v_schema}.swap d, maxes m, public.cluster_hosts h\n WHERE m.max = d.period\n   AND h.hostname = d.hostname\n)\nSELECT period as time, sum(swpused_pct) AS \"Used %\", 100 - sum(swpused_pct) AS \"Avail %\"\n  FROM src\n GROUP BY 1;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Segment Swap Usage",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": []
        },
        "overrides": [
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "A"
            },
            "properties": [
              {
                "id": "unit",
                "value": "deckbytes"
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/Avail/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "dark-green",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/Used/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "dark-yellow",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 4,
        "x": 14,
        "y": 21
      },
      "id": 23,
      "options": {
        "legend": {
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "pieType": "donut",
        "reduceOptions": {
          "calcs": [],
          "fields": "",
          "values": false
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "9.2.10",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "WITH maxes AS (\nSELECT max(period) FROM ${v_schema}.memory\n), src AS (\n-- many segments may exist on same mntpt\nSELECT DISTINCT d.*\n  FROM ${v_schema}.memory d, maxes m, public.cluster_hosts h\n WHERE m.max = d.period\n   AND h.hostname = d.hostname\n)\nSELECT period as time, sum(memused_pct) AS \"Used %\", 100 - sum(memused_pct) AS \"Avail %\"\n  FROM src\n GROUP BY 1;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Segment Memory Usage",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": [],
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 5,
        "x": 18,
        "y": 21
      },
      "id": 26,
      "options": {
        "displayLabels": [],
        "legend": {
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "pieType": "donut",
        "reduceOptions": {
          "calcs": [],
          "fields": "",
          "values": false
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "9.2.10",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "select now() as time, max_conn, used, res_for_super, (max_conn - used - res_for_super) AS res_for_normal\n  from (select count(*) used from ${v_schema}.cat_pg_stat_activity) t1,\n  (select setting::int res_for_super from ${v_schema}.cat_pg_settings where name='superuser_reserved_connections') t2,\n  (select setting::int max_conn from ${v_schema}.cat_pg_settings where name='max_connections') t3; ",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Connections",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "auto",
            "displayMode": "auto",
            "inspect": false
          },
          "mappings": [
            {
              "options": {
                "pattern": "/Medium/",
                "result": {
                  "color": "dark-orange",
                  "index": 0
                }
              },
              "type": "regex"
            },
            {
              "options": {
                "pattern": "/Low/",
                "result": {
                  "color": "dark-green",
                  "index": 1
                }
              },
              "type": "regex"
            },
            {
              "options": {
                "pattern": "/High/",
                "result": {
                  "color": "dark-red",
                  "index": 2
                }
              },
              "type": "regex"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Time"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 207
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/Load/"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "color-background"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 3,
        "w": 22,
        "x": 0,
        "y": 26
      },
      "id": 19,
      "options": {
        "footer": {
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": true,
        "sortBy": []
      },
      "pluginVersion": "9.2.10",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "WITH period AS (\nSELECT min(max) AS max\n  FROM (SELECT hostname, max(ts_round(period,60))\n          FROM ${v_schema}.ldavg GROUP BY hostname) n\n), cores AS (\nSELECT value::int\n  FROM public.cluster_attribs\n WHERE domain = 'segment.host.cores'\n), ldavgs AS (\nSELECT ts_round(l.period,60) AS time\n     , (sum(l.ldavg_1) / c.value)::numeric(10,2) AS ldavg_1\n     , (sum(l.ldavg_5) / c.value)::numeric(10,2) AS ldavg_5\n     , (sum(l.ldavg_15) / c.value)::numeric(10,2) AS ldavg_15\n  FROM ${v_schema}.ldavg l, period p, cores c\n WHERE ts_round(period,60) = p.max\n GROUP BY 1, c.value\n), total_cores AS (\nSELECT c1.value::int * c2.value::int AS value\n  FROM public.cluster_attribs c1, public.cluster_attribs c2\n WHERE c1.domain = 'segment.hosts'\n   AND public.cluster_id_from_schema('${v_schema}') = c1.cluster_id\n   AND c2.domain = 'segment.host.cores'\n   AND public.cluster_id_from_schema('${v_schema}') = c2.cluster_id\n)\nSELECT l.time\n     -- , ca.value::int AS cores\n     , (CASE WHEN ldavg_1 < (ca.value::int * 0.25) THEN 'Low Load'\n             WHEN ldavg_1 < (ca.value::int * 0.60) THEN 'Medium Load'\n             ELSE 'High Load' END)||' ('|| ldavg_1 ||')' AS \"1 Minute Load\"\n     , (CASE WHEN ldavg_5 < (ca.value::int * 0.25) THEN 'Low Load'\n             WHEN ldavg_5 < (ca.value::int * 0.60) THEN 'Medium Load'\n             ELSE 'High Load' END)||' ('|| ldavg_5 ||')' AS \"5 Minute Load\"\n     , (CASE WHEN ldavg_15 < (ca.value::int * 0.25) THEN 'Low Load'\n             WHEN ldavg_15 < (ca.value::int * 0.60) THEN 'Medium Load'\n             ELSE 'High Load' END)||' ('|| ldavg_15 ||')' AS \"15 Minute Load\"\n  FROM ldavgs l, total_cores ca;",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Cluster Load",
      "type": "table"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 2,
          "mappings": [],
          "max": 100,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 25
              },
              {
                "color": "orange",
                "value": 40
              },
              {
                "color": "dark-red",
                "value": 60
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/Load/"
            },
            "properties": [
              {
                "id": "unit",
                "value": "percent"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 4,
        "w": 22,
        "x": 0,
        "y": 29
      },
      "id": 28,
      "options": {
        "displayMode": "lcd",
        "minVizHeight": 10,
        "minVizWidth": 0,
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showUnfilled": true
      },
      "pluginVersion": "9.2.10",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "WITH period AS (\nSELECT min(max) AS max\n  FROM (SELECT hostname, max(ts_round(period,60))\n          FROM ${v_schema}.ldavg GROUP BY hostname) n\n), cores AS (\nSELECT value::int\n  FROM public.cluster_attribs\n WHERE domain = 'segment.host.cores'\n   AND public.cluster_id_from_schema('${v_schema}') = cluster_id\n)\nSELECT ts_round(l.period,60) AS time\n     , (sum(l.ldavg_1) / c.value)::numeric(10,2) AS \"1 Minute % Load\"\n     , (sum(l.ldavg_5) / c.value)::numeric(10,2) AS \"5 Minute % Load\"\n     , (sum(l.ldavg_15) / c.value)::numeric(10,2) AS \"15 Minute % Load\"\n  FROM ${v_schema}.ldavg l, period p, cores c\n WHERE ts_round(period,60) = p.max\n GROUP BY 1, c.value;",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Cluster Load",
      "type": "bargauge"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": []
        },
        "overrides": []
      },
      "gridPos": {
        "h": 10,
        "w": 11,
        "x": 0,
        "y": 33
      },
      "id": 7,
      "options": {
        "legend": {
          "displayMode": "table",
          "placement": "right",
          "showLegend": true,
          "values": [
            "value"
          ]
        },
        "pieType": "donut",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": true
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "9.2.10",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "select usename,application_name,state,count(*)\n  from ${v_schema}.cat_gp_stat_activity\n where usename is not null\n   and gp_segment_id = -1\n group by 1, 2, 3\n order by 1, 2, 3;",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "User Connections",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": []
        },
        "overrides": []
      },
      "gridPos": {
        "h": 10,
        "w": 11,
        "x": 11,
        "y": 33
      },
      "id": 8,
      "options": {
        "legend": {
          "displayMode": "table",
          "placement": "right",
          "showLegend": true,
          "values": [
            "value"
          ]
        },
        "pieType": "donut",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "/^count$/",
          "values": true
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "9.2.10",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "select backend_type,state,count(*)\n  from ${v_schema}.cat_pg_stat_activity\n group by 1, 2\n order by 1",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "System Activity Summary",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 80,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 11,
        "x": 0,
        "y": 43
      },
      "id": 15,
      "options": {
        "barRadius": 0,
        "barWidth": 0.97,
        "groupWidth": 0.7,
        "legend": {
          "calcs": [
            "allValues"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "orientation": "auto",
        "showValue": "auto",
        "stacking": "none",
        "tooltip": {
          "mode": "single",
          "sort": "none"
        },
        "xTickLabelRotation": 0,
        "xTickLabelSpacing": 0
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "WITH m AS (\nSELECT min(max) AS max\n  FROM (SELECT hostname, max(ts_round(period,60))\n          FROM ${v_schema}.ldavg\n         GROUP BY hostname) n\n)\nSELECT ts_round(period,60) AS time, l.hostname, l.ldavg_1\n  FROM ${v_schema}.ldavg l, m\n WHERE ts_round(period,60) = m.max\n ORDER BY hostname;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Current Load Average 1 Minute",
      "type": "barchart"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 80,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 11,
        "x": 11,
        "y": 43
      },
      "id": 25,
      "options": {
        "barRadius": 0,
        "barWidth": 0.97,
        "groupWidth": 0.7,
        "legend": {
          "calcs": [
            "allValues"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "orientation": "auto",
        "showValue": "auto",
        "stacking": "none",
        "tooltip": {
          "mode": "single",
          "sort": "none"
        },
        "xTickLabelRotation": 0,
        "xTickLabelSpacing": 0
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "WITH m AS (\nSELECT min(max) AS max\n  FROM (SELECT hostname, max(ts_round(period,60))\n          FROM ${v_schema}.ldavg\n         GROUP BY hostname) n\n)\nSELECT ts_round(period,60) AS time, l.hostname, l.ldavg_5\n  FROM ${v_schema}.ldavg l, m \n WHERE ts_round(period,60) = m.max\n ORDER BY hostname;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Current Load Average 5 Minute",
      "type": "barchart"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 80,
            "gradientMode": "opacity",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "deckbytes"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Avail KBs"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 11,
        "x": 0,
        "y": 51
      },
      "id": 35,
      "options": {
        "barRadius": 0,
        "barWidth": 0.97,
        "groupWidth": 0.7,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "orientation": "horizontal",
        "showValue": "always",
        "stacking": "none",
        "tooltip": {
          "mode": "single",
          "sort": "none"
        },
        "xTickLabelRotation": 0,
        "xTickLabelSpacing": 0
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "WITH maxes AS (\nSELECT max(period) FROM ${v_schema}.disk_space\n), src AS ( \nSELECT DISTINCT d.*\n  FROM ${v_schema}.disk_space d, maxes m, public.cluster_hosts h\n WHERE m.max = d.period\n   AND h.hostname = d.hostname\n)\nSELECT period as time\n     , hostname\n     , sum(used_kbs) AS \"Used KBs\"\n     , sum(avail_kbs) AS \"Avail KBs\"\n  FROM src\nGROUP BY 1,2\nORDER BY 2\n \n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Segment Storage",
      "type": "barchart"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "auto",
            "displayMode": "auto",
            "inspect": false
          },
          "mappings": [
            {
              "options": {
                "d": {
                  "color": "dark-red",
                  "index": 0,
                  "text": "DOWN"
                },
                "m": {
                  "index": 3,
                  "text": "Mirror"
                },
                "p": {
                  "index": 2,
                  "text": "Primary"
                },
                "u": {
                  "color": "green",
                  "index": 1,
                  "text": "Up"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Hostname"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 99
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Port"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 67
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Segment Dir"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 222
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Database ID"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 101
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": ".*"
            },
            "properties": [
              {
                "id": "custom.align",
                "value": "center"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 22,
        "x": 0,
        "y": 59
      },
      "id": 4,
      "options": {
        "footer": {
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": true,
        "sortBy": []
      },
      "pluginVersion": "9.2.10",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT hostname AS \"Hostname\"\n     , port AS \"Port\"\n     , datadir AS \"Segment Dir\"\n     , dbid AS \"Database ID\"\n     , content AS \"Content\"\n     , role AS \"Role\"\n     , preferred_role AS \"Preferred Role\"\n     , status AS \"Status\"\n     , mode AS \"Mode\"\n  FROM ${v_schema}.cat_gp_segment_configuration\n ORDER BY status ASC, hostname, port;",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Cluster Segment Configuration",
      "type": "table"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "auto",
            "displayMode": "auto",
            "inspect": false
          },
          "mappings": [
            {
              "options": {
                "d": {
                  "color": "dark-red",
                  "index": 0,
                  "text": "DOWN"
                },
                "m": {
                  "index": 3,
                  "text": "Mirror"
                },
                "p": {
                  "index": 2,
                  "text": "Primary"
                },
                "u": {
                  "color": "green",
                  "index": 1,
                  "text": "Up"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Hostname"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 99
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Port"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 67
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Segment Dir"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 222
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Database ID"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 101
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Time"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 176
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 22,
        "x": 0,
        "y": 67
      },
      "id": 5,
      "options": {
        "footer": {
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": true,
        "sortBy": []
      },
      "pluginVersion": "9.2.10",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT h.time AS \"Time\"\n     , h.dbid AS \"Database ID\" \n     , s.hostname AS \"Hostname\"\n     , s.datadir AS \"Segment Dir\"\n     , h.\"desc\" AS \"Description\"\n  FROM ${v_schema}.cat_gp_configuration_history h JOIN ${v_schema}.cat_gp_segment_configuration s USING (dbid)\n ORDER BY 1 DESC;",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Cluster Configuration History",
      "type": "table"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "deckbytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 22,
        "x": 0,
        "y": 75
      },
      "id": 2,
      "options": {
        "legend": {
          "calcs": [
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "desc"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n    ts_round(d.period, $v_interval ) AS time\n  , sum(used_kbs)/count(*) AS \"Used KBS\"\n  , sum(avail_kbs)/count(*) * -1 AS \"Avail KBs\"\nFROM\n  ${v_schema}.disk_space d\nWHERE\n  $__timeFilter(d.period)\n  GROUP BY 1\n  ORDER BY 1;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Cumulative Cluster Disk Storage",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 22,
        "x": 0,
        "y": 84
      },
      "id": 18,
      "options": {
        "legend": {
          "calcs": [
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "desc"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  ts_round(d.period, $v_interval ) AS time\n  , d.hostname||':'||s.mntpt\n  , sum(d.rkbs) as rkbs\n  , sum(d.wkbs) * -1 as wkbs\nFROM\n  ${v_schema}.disk d\n  JOIN ${v_schema}._storage s ON (d.hostname = s.hostname AND d.device = s.diskdevice)\n  JOIN public.cluster_hosts ch ON (ch.cluster_id = public.cluster_id_from_schema('$v_schema'))\n  JOIN ${v_schema}.cat_gp_segment_configuration gsc ON (ch.hostname = gsc.hostname OR ch.altname = gsc.hostname)\nWHERE\n  $__timeFilter(d.period)\n  AND s.mntpt = '/'||split_part(gsc.datadir, '/', 2)\n  GROUP BY 1, 2\n  ORDER BY 1, 2;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Cumulative Cluster Disk Utilization",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 22,
        "x": 0,
        "y": 93
      },
      "id": 27,
      "options": {
        "legend": {
          "calcs": [
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "desc"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  ts_round(d.period, $v_interval ) AS time\n  , d.hostname||':'||s.mntpt\n  , sum(d.await) as await\nFROM\n  ${v_schema}.disk d\n  JOIN ${v_schema}._storage s ON (d.hostname = s.hostname AND d.device = s.diskdevice)\n  JOIN public.cluster_hosts ch ON (ch.cluster_id = public.cluster_id_from_schema('$v_schema'))\n  JOIN ${v_schema}.cat_gp_segment_configuration gsc ON (ch.hostname = gsc.hostname OR ch.altname = gsc.hostname)\nWHERE\n  $__timeFilter(d.period)\n  AND s.mntpt = '/'||split_part(gsc.datadir, '/', 2)\n  GROUP BY 1, 2\n  ORDER BY 1, 2;",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Cumulative Cluster Disk Wait",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 22,
        "x": 0,
        "y": 102
      },
      "id": 9,
      "options": {
        "legend": {
          "calcs": [
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "desc"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  ts_round(d.period, $v_interval ) AS time\n  -- format('%s:%s',d.hostname,s.mntpt) AS metric,\n  , sum(d.ldavg_1) as ldavg_1\n  , sum(d.blocked) * -1 AS blocked\nFROM\n  ${v_schema}.ldavg d\nWHERE\n  $__timeFilter(d.period)\n  GROUP BY 1\n  ORDER BY 1;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Cumulative Cluster Load Average 1 & Blocked Processes",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "log": 2,
              "type": "log"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Cluster Maximum Pct"
            },
            "properties": [
              {
                "id": "custom.stacking",
                "value": {
                  "group": "A",
                  "mode": "none"
                }
              },
              {
                "id": "custom.lineStyle",
                "value": {
                  "fill": "solid"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 9,
        "w": 22,
        "x": 0,
        "y": 111
      },
      "id": 10,
      "options": {
        "legend": {
          "calcs": [
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "desc"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  ts_round(d.period, $v_interval ) AS time\n  , sum(d.usr)/ $v_interval  as \"User %\"\n  , sum(d.sys)/ $v_interval  AS \"System %\"\nFROM\n  ${v_schema}.cpu d\nWHERE\n  $__timeFilter(d.period)\n  AND cpu = 'all'\n  GROUP BY 1\n  ORDER BY 1;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        },
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "WITH mins AS (\nSELECT min(period)\n  FROM ${v_schema}.cpu\n), stats AS (\nSELECT c1.value::int AS cores\n     , c2.value::int AS hosts\n  FROM public.cluster_attribs c1, public.cluster_attribs c2\n WHERE c1.domain = 'segment.hosts'\n   AND c2.domain = 'segment.host.cores'\n   AND c1.cluster_id = public.cluster_id_from_schema('${v_schema}')\n   AND c1.cluster_id = c2.cluster_id\n)\nSELECT ts_round(c.period, $v_interval ) AS \"time\"\n     , s.cores * 100 * s.hosts AS \"Cluster Maximum Pct\"\n  FROM ${v_schema}.cpu c, stats s\n WHERE $__timeFilter(period)\n ORDER BY 1;\n",
          "refId": "B",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Cumulative Cluster User & System CPU Usage (%)",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/Used/"
            },
            "properties": [
              {
                "id": "unit",
                "value": "percent"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 9,
        "w": 22,
        "x": 0,
        "y": 120
      },
      "id": 21,
      "options": {
        "legend": {
          "calcs": [
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "desc"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  ts_round(d.period, $v_interval ) AS time\n  , d.hostname\n  , sum(d.memused_pct)/count(*) as \"Used %\"\nFROM\n  ${v_schema}.memory d, public.cluster_hosts h\nWHERE\n  $__timeFilter(d.period)\n  AND public.cluster_id_from_schema('${v_schema}') = cluster_id\n  AND d.hostname = h.hostname\n  AND NOT h.is_mdw\n  GROUP BY 1, 2\n  ORDER BY 1, 2;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Cumulative Cluster Memory Usage (%)",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/Used/"
            },
            "properties": [
              {
                "id": "unit",
                "value": "percent"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 9,
        "w": 22,
        "x": 0,
        "y": 129
      },
      "id": 22,
      "options": {
        "legend": {
          "calcs": [
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "desc"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT \n  ts_round(d.period, $v_interval ) AS time\n  , d.hostname\n  , sum(d.swpused_pct)/count(*) as \"Used %\"\nFROM\n  ${v_schema}.swap d, public.cluster_hosts h\nWHERE\n  $__timeFilter(d.period)\n  AND public.cluster_id_from_schema('${v_schema}') = cluster_id\n  AND d.hostname = h.hostname\n--  AND NOT h.is_mdw\n  GROUP BY 1, 2\n  ORDER BY 1, 2;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Cumulative Swap Util",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/Used/"
            },
            "properties": [
              {
                "id": "unit",
                "value": "percent"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 9,
        "w": 22,
        "x": 0,
        "y": 138
      },
      "id": 30,
      "options": {
        "legend": {
          "calcs": [
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "desc"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT \n  ts_round(d.period, $v_interval ) AS time\n  , d.hostname || ' ' || d.iface\n  , sum(d.ifutil_pct)/count(*) as \"Used %\"\nFROM\n  ${v_schema}.network_dev d, public.cluster_hosts h\nWHERE\n  $__timeFilter(d.period)\n  AND public.cluster_id_from_schema('${v_schema}') = cluster_id\n  AND d.hostname = h.hostname\n  AND d.iface <> 'lo'\n--  AND NOT h.is_mdw\n  GROUP BY 1, 2\n  ORDER BY 1, 2;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Cumulative Network Util",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "pJsaBqkNk"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/Used/"
            },
            "properties": [
              {
                "id": "unit",
                "value": "percent"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 9,
        "w": 22,
        "x": 0,
        "y": 147
      },
      "id": 31,
      "options": {
        "legend": {
          "calcs": [
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "desc"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "pJsaBqkNk"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT \n  ts_round(d.period, $v_interval ) AS time\n  , d.hostname\n  , sum(d.rxerr_psec + d.rxdrop_psec + d.rxfram_psec + d.rxfifo_psec) AS \"RX Errors\"\n  , sum(d.txerr_psec + d.txdrop_psec + d.txcarr_psec + d.txfifo_psec) AS \"TX Errors\"\n  , sum(coll_psec) AS \"Collisions\"\nFROM\n  ${v_schema}.network_errors d, public.cluster_hosts h\nWHERE\n  $__timeFilter(d.period)\n  AND public.cluster_id_from_schema('${v_schema}') = cluster_id\n  AND d.hostname = h.hostname\n  AND d.iface <> 'lo'\n--  AND NOT h.is_mdw\n  GROUP BY 1, 2\n  ORDER BY 1, 2;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Cumulative Network Errors",
      "type": "timeseries"
    }
  ],
  "refresh": "30s",
  "schemaVersion": 37,
  "style": "dark",
  "tags": [
    "MNTN"
  ],
  "templating": {
    "list": [
      {
        "current": {
          "selected": true,
          "text": "CoreDW",
          "value": "metrics_15"
        },
        "datasource": {
          "type": "postgres",
          "uid": "pJsaBqkNk"
        },
        "definition": "SELECT name AS __text, public.cluster_metrics_schema(id) AS __value FROM public.clusters ORDER BY name;",
        "hide": 0,
        "includeAll": false,
        "label": "Cluster",
        "multi": false,
        "name": "v_schema",
        "options": [],
        "query": "SELECT name AS __text, public.cluster_metrics_schema(id) AS __value FROM public.clusters ORDER BY name;",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "type": "query"
      },
      {
        "auto": false,
        "auto_count": 30,
        "auto_min": "10s",
        "current": {
          "selected": false,
          "text": "300",
          "value": "300"
        },
        "hide": 0,
        "label": "Interval Seconds",
        "name": "v_interval",
        "options": [
          {
            "selected": false,
            "text": "60",
            "value": "60"
          },
          {
            "selected": true,
            "text": "300",
            "value": "300"
          },
          {
            "selected": false,
            "text": "600",
            "value": "600"
          },
          {
            "selected": false,
            "text": "900",
            "value": "900"
          },
          {
            "selected": false,
            "text": "1800",
            "value": "1800"
          }
        ],
        "query": "60,300,600,900,1800",
        "queryValue": "",
        "refresh": 2,
        "skipUrlSync": false,
        "type": "interval"
      }
    ]
  },
  "time": {
    "from": "now-12h",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "browser",
  "title": "Multi-Cluster Dashboard",
  "uid": "cXmvB3kNz",
  "version": 73,
  "weekStart": ""
}
